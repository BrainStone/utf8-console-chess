stages:
  - build
  - package

default:
  image: openjdk:11-jdk
  tags:
    - docker
    - linux

build:
  stage: build
  needs: []
  script:
    - ./gradlew assemble

package:
  stage: package
  needs:
    - package
  script:
    - ./gradlew installReleaseLinux
    - cp build/install/main/release/linux/* .
  artifacts:
    paths:
      - u8cc
      - lib
